{% load static %}
<!-- Main Recordings Content -->
<div class="col-span-12 md:col-span-9 lg:col-span-10">
    <div class="main-content-scroll">
        <!-- Page Header -->
        <div class="mb-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
            <div>
                <h2 class="text-2xl font-bold text-slate-100 mb-1">Recorded Videos</h2>
                <p class="text-slate-400 text-sm">View and manage your surveillance recordings</p>
            </div>
            <div class="flex items-center space-x-2">
                <button class="btn glass text-slate-300 hover:bg-slate-800/50">
                    <i class="fas fa-calendar mr-2"></i>
                    <span class="hidden sm:inline">Filter by Date</span>
                    <span class="sm:hidden">Date</span>
                </button>
                <button class="btn glass text-slate-300 hover:bg-slate-800/50">
                    <i class="fas fa-search"></i>
                    <span class="hidden sm:inline ml-2">Search</span>
                </button>
            </div>
        </div>

        <!-- Video Player -->
        <div class="glass rounded-lg p-6 mb-6">
            <h3 class="text-lg font-semibold text-slate-100 mb-4">Video Player</h3>
            <div class="video-container relative bg-black rounded-lg overflow-hidden shadow-2xl">
                <video
                    id="recording-player"
                    class="w-full h-full object-contain"
                    controls
                    poster="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyMCIgaGVpZ2h0PSIxMDgwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiMwMDAiLz48dGV4dCB4PSI1MCUiIHk9IjUwJSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjQ4IiBmaWxsPSIjNjY2IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+U2VsZWN0IGEgcmVjb3JkaW5nIHRvIHBsYXk8L3RleHQ+PC9zdmc+"
                    style="max-height: 500px;"
                >
                    <source src="" type="video/mp4">
                    Your browser does not support video playback.
                </video>

                <!-- Video Controls (will be handled by native browser controls) -->
            </div>

            <!-- Current Video Info -->
            <div id="current-video-info" class="mt-4 hidden">
                <div class="flex items-start justify-between">
                    <div>
                        <h4 id="video-title" class="text-white font-semibold mb-1"></h4>
                        <div class="flex items-center space-x-4 text-sm text-slate-400">
                            <span id="video-duration"></span>
                            <span id="video-size"></span>
                            <span id="video-date"></span>
                        </div>
                    </div>
                    <button id="download-btn" class="btn btn-secondary">
                        <i class="fas fa-download mr-2"></i>
                        Download
                    </button>
                </div>
            </div>
        </div>

        <!-- Recordings List -->
        <div class="glass rounded-lg p-6">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold text-slate-100">Recent Recordings</h3>
                <div class="flex items-center space-x-2">
                    <button class="btn btn-ghost p-2" title="Grid View">
                        <i class="fas fa-th"></i>
                    </button>
                    <button class="btn btn-ghost p-2 text-cyan-400" title="List View">
                        <i class="fas fa-list"></i>
                    </button>
                </div>
            </div>

            <!-- Recordings Grid -->
            <div class="space-y-2 max-h-96 overflow-y-auto">
                <!-- Sample Recording 1 -->
                <div class="recording-item" onclick="playRecording('/media/recordings/camera1_20251007_143000.mp4', 'Camera 1 - Oct 7, 2025 14:30', '1:45:23', '2.3 GB')">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <div class="relative">
                                <div class="w-16 h-16 bg-slate-700 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-play-circle text-cyan-500 text-2xl"></i>
                                </div>
                                <div class="absolute bottom-1 right-1 bg-black/80 text-white text-xs px-1 rounded">
                                    1:45:23
                                </div>
                            </div>
                            <div>
                                <div class="text-sm font-medium text-slate-200">Camera 1 - Oct 7, 2025 14:30</div>
                                <div class="text-xs text-slate-500">Duration: 1:45:23 • Size: 2.3 GB</div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <button class="btn btn-ghost p-2 hover:text-cyan-500" title="Download" onclick="event.stopPropagation(); downloadRecording('/media/recordings/camera1_20251007_143000.mp4')">
                                <i class="fas fa-download"></i>
                            </button>
                            <button class="btn btn-ghost p-2 hover:text-red-500" title="Delete" onclick="event.stopPropagation(); deleteRecording('camera1_20251007_143000.mp4')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Sample Recording 2 -->
                <div class="recording-item" onclick="playRecording('/media/recordings/camera1_20251007_120000.mp4', 'Camera 1 - Oct 7, 2025 12:00', '2:15:45', '3.1 GB')">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <div class="relative">
                                <div class="w-16 h-16 bg-slate-700 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-play-circle text-cyan-500 text-2xl"></i>
                                </div>
                                <div class="absolute bottom-1 right-1 bg-black/80 text-white text-xs px-1 rounded">
                                    2:15:45
                                </div>
                            </div>
                            <div>
                                <div class="text-sm font-medium text-slate-200">Camera 1 - Oct 7, 2025 12:00</div>
                                <div class="text-xs text-slate-500">Duration: 2:15:45 • Size: 3.1 GB</div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <button class="btn btn-ghost p-2 hover:text-cyan-500" title="Download" onclick="event.stopPropagation(); downloadRecording('/media/recordings/camera1_20251007_120000.mp4')">
                                <i class="fas fa-download"></i>
                            </button>
                            <button class="btn btn-ghost p-2 hover:text-red-500" title="Delete" onclick="event.stopPropagation(); deleteRecording('camera1_20251007_120000.mp4')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Sample Recording 3 -->
                <div class="recording-item" onclick="playRecording('/media/recordings/camera1_20251006_180000.mp4', 'Camera 1 - Oct 6, 2025 18:00', '3:30:12', '4.5 GB')">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <div class="relative">
                                <div class="w-16 h-16 bg-slate-700 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-play-circle text-cyan-500 text-2xl"></i>
                                </div>
                                <div class="absolute bottom-1 right-1 bg-black/80 text-white text-xs px-1 rounded">
                                    3:30:12
                                </div>
                            </div>
                            <div>
                                <div class="text-sm font-medium text-slate-200">Camera 1 - Oct 6, 2025 18:00</div>
                                <div class="text-xs text-slate-500">Duration: 3:30:12 • Size: 4.5 GB</div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <button class="btn btn-ghost p-2 hover:text-cyan-500" title="Download" onclick="event.stopPropagation(); downloadRecording('/media/recordings/camera1_20251006_180000.mp4')">
                                <i class="fas fa-download"></i>
                            </button>
                            <button class="btn btn-ghost p-2 hover:text-red-500" title="Delete" onclick="event.stopPropagation(); deleteRecording('camera1_20251006_180000.mp4')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Empty State (show if no recordings) -->
                <div id="empty-state" class="text-center py-8 text-slate-500 hidden">
                    <i class="fas fa-folder-open text-4xl mb-2 opacity-50"></i>
                    <p class="text-sm">No recordings found</p>
                    <p class="text-xs mt-1">Recordings will appear here automatically</p>
                </div>
            </div>
        </div>

        <!-- Storage Info -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
            <div class="glass rounded-lg p-4">
                <div class="flex items-center justify-between mb-2">
                    <div class="text-sm text-slate-400">Total Recordings</div>
                    <i class="fas fa-video text-cyan-500"></i>
                </div>
                <div class="text-2xl font-bold text-slate-100">24</div>
            </div>

            <div class="glass rounded-lg p-4">
                <div class="flex items-center justify-between mb-2">
                    <div class="text-sm text-slate-400">Storage Used</div>
                    <i class="fas fa-hdd text-purple-500"></i>
                </div>
                <div class="text-2xl font-bold text-slate-100">45.2 GB</div>
            </div>

            <div class="glass rounded-lg p-4">
                <div class="flex items-center justify-between mb-2">
                    <div class="text-sm text-slate-400">Storage Available</div>
                    <i class="fas fa-database text-green-500"></i>
                </div>
                <div class="text-2xl font-bold text-slate-100">154.8 GB</div>
            </div>
        </div>
    </div>
</div>
